
<!DOCTYPE html>
<html>
  <head>
    <title>Kamen papir nuzky</title>
    <style>
      body {
        background-color: rgb(25, 25, 25);
        color: white;
        font-family: Arial;
      }

      .title {
        font-size: 30px;
        font-weight: bold;
        color: brown;
      }

      .znameni-ikona {
        height: 100px;
      }

      .move-button {
        width: 120px;
        height: 120px;
        border-radius: 60px;
        border: 1px solid white;

        background-color: transparent;
        margin-right: 10px;
        cursor: pointer;
      }

      .vysledek {
        font-size: 25px;
        font-weight: bold;
        margin-top: 50px;
      }

      .skore {
        margin-top: 60px;
      }

      .reset-skore-button {
        background-color: white;
        border: none;
        font-size: 15px;
        padding: 8px 15px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <p class="title">Kamen papir nuzky</p>

    <button onclick=" makeMove('kamen');" class="move-button">
      <img class="znameni-ikona" src="img/kamen.png">
    </button>

    <button onclick=" makeMove('papir');" class="move-button">
      <img class="znameni-ikona" src="img/papir.png">
    </button>

    <button onclick="makeMove('nuzky');" class="move-button">
      <img class="znameni-ikona" src="img/nuzky.png">
    </button>
    <!-- Zde se objevi vyhral jsi, nebo prohral jsi, nebo remiza -->
    <p class="vysledek js-vysledek"></p>
    <!--  zde se objeví ikony-obrazky vyberu hrace a pocitace -->
    <p class="js-znameni-vybrane"></p>
    
    <!-- zobrazeni skore -->
    <p class="skore js-skore"></p>
    <button class="reset-skore-button" onclick="resetSkore();">
      Reset skore
    </button>

    <p class="pametneceho">xxxxxxxxxxxxxxxxx</p>
  
  <script>
    peckovapamet = document.querySelector(".pametneceho");
    
    peckovapamet.innerHTML  = "Ahoj jak se mas" ;
  </script>


    <script>
      let skore = {
        vyhra: 0,
        prohra: 0,
        remiza: 0
      };

      const ulozeneskore = JSON.parse(localStorage.getItem('skore'));
      if (ulozeneskore) {
        skore = ulozeneskore;
      }


      aktualizujSkorePrvku(); // aktualizace skore z localStorage
      
      function makeMove(hracZnameni) {      // ============ ZACETEK FUNKCE MAKE MOVE
        const pocitacZnameni = zjistipocitacZnameni();
        const vysledekElement = document.querySelector(".js-vysledek");

        if (hracZnameni === pocitacZnameni) {
          vysledekElement.innerHTML = `Remiza.`;
          skore.remiza += 1;

        } else if (
          (hracZnameni === 'kamen' && pocitacZnameni === 'nuzky') ||
          (hracZnameni === 'papir' && pocitacZnameni === 'kamen') ||
          (hracZnameni === 'nuzky' && pocitacZnameni === 'papir')
        ) {
          vysledekElement.innerHTML = `Vyhral jsi.`; 
          skore.vyhra += 1;

        } else {
          vysledekElement.innerHTML = `Prohral jsi.`;
          skore.prohra += 1;
        }

        const vybranaZnameni = document.querySelector('.js-znameni-vybrane');
        vybranaZnameni.innerHTML = `
          Ty
          <img src="img/${hracZnameni}.png" class="znameni-ikona">
          <img src="img/${pocitacZnameni}.png" class="znameni-ikona">
          Počítač
        `;

        aktualizujSkorePrvku();
        localStorage.setItem('skore', JSON.stringify(skore));
        console.log(skore)
      }                                 // ============ KONEC FUNKCE MAKE MOVE ============
      
      function resetSkore() {           // ============ ZACETEK FUNKCE RESET SKORE
        skore = {
          vyhra: 0,
          prohra: 0,
          remiza: 0
        };                              

        aktualizujSkorePrvku();
        localStorage.removeItem('skore');
      }                                   // ============ KONEC FUNKCE RESET SKORE ============

      function zjistipocitacZnameni() {   // ============ ZACETEK FUNKCE zjistipocitacZnameni
        const nahodneCislo = Math.random();
        let pocitacZnameni;

        if (nahodneCislo < (1 / 3)) {
          pocitacZnameni = 'kamen';
        } else if (nahodneCislo < (2 / 3)) {
          pocitacZnameni = 'papir';
        } else {
          pocitacZnameni = 'nuzky';
        }

        return pocitacZnameni;
      }                               // ============ KONEC FUNKCE zjistipocitacZnameni ============

      function aktualizujSkorePrvku() {
        document.querySelector('.js-skore').innerHTML = `
          vyhra: ${skore.vyhra}, prohra: ${skore.prohra}, remiza: ${skore.remiza}
        `;
      }
      // prevzato a pocesteno z:
      // https://supersimple.dev/projects/rock-paper-scissors/
      // https://www.youtube.com/watch?v=EerdGm-ehJQ&t=6204s
    </script>
  </body>
</html>
